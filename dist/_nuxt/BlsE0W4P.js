import{C as _,D as g,E as w,F as y,G as C,H as A,e as E,I as O,J as R}from"./BuXMu1T-.js";function k(a){var n;const e=_();return((n=e==null?void 0:e.ssrContext)==null?void 0:n.head)||(e==null?void 0:e.runWithContext(()=>{if(g())return w(y)}))}const L=(a,e)=>{const n=a.__vccOpts||a;for(const[p,i]of e)n[p]=i;return n},o=new Map;let x,I,f,l;function M(a){const e=C().path,n=k(),{currentRoute:p}=A(),i=A();let h=!1,u=a;const d={dispose(){const t=[...o.get(e)],r=t.findIndex(c=>c[0]===u);if(r===-1)return;const s=t[r][1];s==null||s.dispose(),t.splice(r,1),o.set(e,t)},patch(t){const r=[...o.get(e)],s=r.findIndex(m=>m[0]===u);if(s===-1)return;const[,c]=r[s];u=t,c==null||c.patch(u),r.splice(s,1,[u,c]),o.set(e,r)}};if(o.has(e)){const t=n==null?void 0:n.push(a),r=o.get(e)||[];o.set(e,[...r,[a,t]])}else{const t=n==null?void 0:n.push(a);o.set(e,[[a,t]])}return E(d.dispose),x||(x=i.beforeEach(()=>{l=p.value.path})),I||(I=i.afterEach(()=>{f=p.value.path})),O(()=>{let t=o.get(l);t&&(t=t.map(([r,s])=>(s==null||s.dispose(),[r,s])),o.set(l,t)),h=!0}),R(()=>{if(h){let t=o.get(f);t&&(t=t.map(([r,s])=>{s==null||s.dispose();const c=n==null?void 0:n.push(r);return[r,c]}),o.set(f,t))}}),d}export{L as _,M as u};
